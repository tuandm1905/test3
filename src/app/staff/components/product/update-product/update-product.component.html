<div *ngIf="isVisible" class="modal">
	<div class="modal-content">
		<div class="d-flex justify-content-between">
			<h2>{{ modalTitle }}</h2>
			<span class="close-button" (click)="closeModal()">&times;</span>
		</div>
		<form [formGroup]="form" (ngSubmit)="submit()">
			<div class="row">
				<div class="form-group col-md-6  required mb-3">
					<label for="name" class="form-label">Name</label>
					<input type="text" id="name" class="form-control"
						[ngClass]="{'is-invalid': commonService.showStatusErrorV2(form, 'Name')}" formControlName="Name"
						name="name" (focusout)="commonService.onTrimFocusOutForm(form, 'Name', $event)" />

					<app-form-error [control]="form.controls['Name']" [message]="'Product Name is required!'"
						[validation]="'required'"></app-form-error>
				</div>

				<div class="form-group col-md-6  required mb-3">
					<label for="Price" class="form-label">Price</label>
					<input type="number" id="Price" class="form-control"
						[ngClass]="{'is-invalid': commonService.showStatusErrorV2(form, 'Price')}"
						formControlName="Price" name="price"
						(focusout)="commonService.onTrimFocusOutForm(form, 'Price', $event)" />

					<app-form-error [control]="form.controls['Price']" [message]="'Price is required!'"
						[validation]="'required'"></app-form-error>
				</div>
				<div class="form-group col-md-6  required mb-3">
					<label for="image" class="form-label ">Image URL</label>
					<input type="text" id="image" class="form-control"
						[ngClass]="{'is-invalid': commonService.showStatusErrorV2(form, 'ImageLinks')}"
						formControlName="ImageLinks" name="image">
					<app-form-error [control]="form.controls['ImageLinks']" [message]="'Product image is required!'"
						[validation]="'required'"></app-form-error>
				</div>
				<div class="form-group col-md-6  required mb-3">
					<label for="DescriptionId" class="form-label ">Description</label>
					<ng-select [items]="descriptions" bindLabel="title" bindValue="descriptionId"
						formControlName="DescriptionId"></ng-select>

					<app-form-error [control]="form.controls['DescriptionId']" [message]="'Description is required!'"
						[validation]="'required'"></app-form-error>
				</div>
				<div class="form-group col-md-6  required mb-3">
					<label for="image" class="form-label ">CategoryID</label>
					<ng-select [items]="categories" bindLabel="name" bindValue="categoryId"
						formControlName="CategoryId"></ng-select>
					<app-form-error [control]="form.controls['CategoryId']" [message]="'Category id is required!'"
						[validation]="'required'"></app-form-error>
				</div>
				<div class="form-group col-md-6  required mb-3">
					<label for="BrandId" class="form-label ">Brand</label>
					<ng-select [items]="brands" bindLabel="name" bindValue="brandId"
						formControlName="BrandId"></ng-select>
					<app-form-error [control]="form.controls['BrandId']" [message]="'Brand id is required!'"
						[validation]="'required'"></app-form-error>
				</div>
				<div class="form-group col-md-6  required mb-3">
					<label for="ownerId" class="form-label ">Owner</label>
					<ng-select [items]="owners" bindLabel="fullname" bindValue="ownerId"
						formControlName="OwnerId"></ng-select>
					<app-form-error [control]="form.controls['OwnerId']" [message]="'Owner id is required!'"
						[validation]="'required'"></app-form-error>
				</div>

				<div class="form-group col-12  required mb-3">
					<label for="ShortDescription" class="form-label">Short description</label>
					<div 
					formControlName="ShortDescription"
						[ngxSummernote]="config"></div>

					<app-form-error [control]="form.controls['ShortDescription']"
						[message]="'ShortDescription is required!'" [validation]="'required'"></app-form-error>
				</div>

			</div>
			<div class="d-flex justify-content-center my-3">
				<button type="button" (click)="closeModal()" class="btn btn-secondary">Cancel</button>
				<button type="submit" class="btn btn-success mx-2">Save</button>
			</div>
		</form>
	</div>
</div>